<head>
  <title>Yet Another Chat Client</title>
</head>

<body>
  {{> room}}
  {{> info}}
  <section class="prompt">
    <form>
      <input class="chatinput" type="text" maxlength="140" value="" >
    </form>
  </section>
  {{> onready}}
</body>

<template name="message">
  {{#if is_mine screenname}}
  <div class="message mine">
  {{else}}
  <div class="message other">
  {{/if}}
    <section class="screenname">{{screenname}}</section>
    <div class="clear"></div>
    <section class="chatbubble">
      <div class="chattail"></div>
      <div class="chattext">{{chattext}}</div>
    </section>
    <div class="clear"></div>
    <section class="timestamp">
      <time datetime="{{html5_timestamp}}">{{timestamp}}</time>
    </section>
    <div class="clear"></div>
  </div>
  <div class="clear"></div>
</template>

<template name="room">
  <div class="room">
    <section class="messages">
    {{#each messages}}
      {{> message}}
    {{/each}}
    </section>
  </div>
</template>

<template name="info">
  <div class="info">
    <section/>
    <section class="myname">
      Welcome <input class="setname" type="text" maxlength="20" value="{{screenname}}">
      <input class="changename" type="button" value="change">
    </section>
    <section/>
  </div>
</template>

<template name="onready">
  <div>
    {{callback}}
  </div>
</template>
